# prellm | 59f 13299L | python:59
# Keys: M=modules, D=details, i=imports, c=classes, f=functions, m=methods
M[59]:
  examples/embedded_refactor.py,47
  examples/providers.py,185
  examples/quick_start.py,158
  examples/python_sdk.py,205
  examples/polish_leasing.py,38
  examples/k8s_debug.py,45
  prellm/env_config.py,326
  prellm/cli.py,536
  prellm/trace.py,276
  prellm/model_catalog.py,62
  prellm/logging_setup.py,83
  prellm/server.py,336
  prellm/__init__.py,69
  prellm/query_decomposer.py,272
  prellm/prompt_registry.py,136
  prellm/validators.py,162
  prellm/models.py,255
  prellm/core.py,534
  prellm/llm_provider.py,182
  prellm/pipeline.py,292
  prellm/budget.py,196
  tests/test_executor_agent.py,78
  tests/test_preprocessor_agent.py,94
  tests/test_one_function.py,181
  tests/test_server.py,262
  tests/test_preprocessor_memory.py,122
  tests/test_decomposer.py,187
  tests/test_model_catalog.py,60
  tests/test_env_config.py,245
  tests/test_budget.py,127
  tests/test_trace.py,181
  tests/__init__.py,0
  tests/test_validators.py,138
  tests/test_context.py,44
  tests/test_codebase_indexer.py,115
  tests/test_user_memory.py,68
  tests/test_structured_output.py,100
  tests/test_v2_architecture.py,519
  tests/test_models.py,172
  tests/test_v3_architecture.py,283
  tests/test_integration.py,157
  tests/test_shipped_configs.py,111
  tests/test_prompt_registry.py,119
  tests/test_pipeline.py,293
  scripts/config_wizard.py,456
  prellm/chains/__init__.py,0
  prellm/chains/process_chain.py,225
  prellm/context/folder_compressor.py,171
  prellm/context/shell_collector.py,139
  prellm/context/user_memory.py,197
  prellm/context/sensitive_filter.py,169
  prellm/context/__init__.py,15
  prellm/context/codebase_indexer.py,294
  prellm/context/schema_generator.py,165
  prellm/analyzers/__init__.py,0
  prellm/analyzers/context_engine.py,112
  prellm/agents/preprocessor.py,139
  prellm/agents/__init__.py,9
  prellm/agents/executor.py,101
D:
  examples/embedded_refactor.py:
    i: asyncio
    e: main
    main()
  examples/providers.py:
    i: asyncio,os
    e: run_example,ollama_local,ollama_plus_openai,ollama_plus_anthropic,openai_only,anthropic_only,groq_fast,mistral_cloud
    run_example(name:str;small_llm:str;large_llm:str)
    ollama_local()
    ollama_plus_openai()
    ollama_plus_anthropic()
    openai_only()
    anthropic_only()
    groq_fast()
    mistral_cloud()
  examples/quick_start.py:
    i: asyncio,tempfile,pathlib.Path
    e: example_zero_config,example_strategy,example_pipeline,example_ollama_local,example_hybrid_ollama_openai,example_hybrid_ollama_anthropic,example_domain_rules,example_with_memory
    example_zero_config()
    example_strategy()
    example_pipeline()
    example_ollama_local()
    example_hybrid_ollama_openai()
    example_hybrid_ollama_anthropic()
    example_domain_rules()
    example_with_memory()
  examples/python_sdk.py:
    i: asyncio,tempfile,pathlib.Path
    e: example_one_function,example_domain_rules,example_sync,example_pipeline,example_user_memory,example_codebase_context,example_class_based,example_custom_pipeline
    example_one_function()
    example_domain_rules()
    example_sync()
    example_pipeline()
    example_user_memory()
    example_codebase_context()
    example_class_based()
    example_custom_pipeline()
  examples/polish_leasing.py:
    i: asyncio
    e: main
    main()
  examples/k8s_debug.py:
    i: asyncio
    e: main
    main()
  prellm/env_config.py:
    i: logging,os,dataclasses.{dataclass,field},pathlib.Path,typing.Any
    e: PROVIDER_KEY_MAP,PROVIDER_MODEL_PREFIX,EnvConfig,load_dotenv_if_available,get_env_config,check_providers,CONFIG_ALIASES,_SECRET_KEYS
    EnvConfig:   # Resolved environment configuration.
    load_dotenv_if_available(path:Any=None)->None
    get_env_config(dotenv_path:Any=None)->EnvConfig
    check_providers(env:Any=None)->dict[str, dict[str, Any]]
    _resolve_config_path(global_:bool=False)->Path
    _read_env_file(path:Path)->dict[str, str]
    _write_env_file(path:Path;entries:dict[str;str];comments:Any=None)->None
    resolve_alias(key:str)->str
    mask_value(key:str;value:str)->str
  prellm/cli.py:
    i: asyncio,json,sys,typer,pathlib.Path,typing.Optional
    e: query,process,decompose,init,serve,doctor,config_set_cmd,config_get_cmd
    _init_logging()->None
    query(prompt:str=typer.Argument(...; help='The prompt/query to preprocess and execute');small:Optional[str]=typer.Option(None; '--small'; '-s'; help='Small LLM for preprocessing (default: from .env)');large:Optional[str]=typer.Option(None; '--large'; '-l'; help='Large LLM for execution (default: from .env)');strategy:Optional[str]=typer.Option(None; '--strategy'; '-S'; help='Strategy: classify|structure|split|enrich|passthrough (default: from .env)');context:Optional[str]=typer.Option(None; '--context'; '-C'; help="User context tag (e.g. 'gdansk_embedded_python')");config:Optional[Path]=typer.Option(None; '--config'; '-c'; help='Optional YAML config file');...+1)
    process(config:Path=typer.Argument(...; help='Path to process chain YAML');guard_config:Path=typer.Option('rules.yaml'; '--guard-config'; '-g'; help='Path to guard YAML config');dry_run:bool=typer.Option(False; '--dry-run'; '-d'; help='Analyze steps without calling LLM');json_output:bool=typer.Option(False; '--json'; '-j'; help='Output as JSON');env:Optional[str]=typer.Option(None; '--env'; '-e'; help='Environment override (e.g.; production)'))
    decompose(query:str=typer.Argument(...; help='The prompt/query to decompose');config:Path=typer.Option('configs/prellm_config.yaml'; '--config'; '-c'; help='Path to preLLM v0.2 YAML config');strategy:str=typer.Option('classify'; '--strategy'; '-s'; help='Decomposition strategy: classify|structure|split|enrich|passthrough');json_output:bool=typer.Option(False; '--json'; '-j'; help='Output as JSON'))
    init(output:Path=typer.Option('prellm_config.yaml'; '--output'; '-o'; help='Output path for config');devops:bool=typer.Option(False; '--devops'; help='Include DevOps-specific domain rules and context sources'))
    serve(host:str=typer.Option('0.0.0.0'; '--host'; '-H'; help='Bind host');port:int=typer.Option(8080; '--port'; '-p'; help='Bind port');small:Optional[str]=typer.Option(None; '--small'; '-s'; help='Override small LLM (default: from .env)');large:Optional[str]=typer.Option(None; '--large'; '-l'; help='Override large LLM (default: from .env)');strategy:Optional[str]=typer.Option(None; '--strategy'; '-S'; help='Override strategy (default: from .env)');config:Optional[Path]=typer.Option(None; '--config'; '-c'; help='YAML config file');...+1)
    _doctor_check_config(env)->list[str]
    _doctor_check_providers(env;live:bool=False)->list[str]
  prellm/trace.py:
    i: json,os,time,datetime,contextvars.ContextVar,dataclasses.{dataclass,field},pathlib.Path,typing.Any
    e: get_current_trace,set_current_trace,TraceStep,TraceRecorder
    TraceStep:   # A single recorded step in the executi...
    TraceRecorder: start(1),stop(0),step(7),set_result(0),total_duration_ms(0)  # Records execution trace and generates...
    get_current_trace()->"TraceRecorder | None"
    set_current_trace(trace:TraceRecorder | None)->None
    _step_icon(status:str)->str
    _safe_json(obj:Any;max_len:int=2000)->str
    _sanitize(obj:Any;depth:int=0)->Any
    _compact_value(val:Any;max_len:int=120)->str
  prellm/model_catalog.py:
    i: typing.Any
    e: MODEL_PAIRS,OPENROUTER_MODELS,list_model_pairs,list_openrouter_models
    list_model_pairs(provider:Any=None;search:Any=None)->list[dict[str, str]]
    list_openrouter_models(provider:Any=None;search:Any=None)->list[dict[str, str]]
  prellm/logging_setup.py:
    i: os,sys,nfo.configure,nfo.logger.Logger,nfo.sinks.MarkdownSink,nfo.terminal.TerminalSink,typing.Optional
    e: setup_logging,get_logger
    setup_logging(level:str='INFO';markdown_file:Any=None;terminal_format:str='markdown')->Logger
    get_logger(name:str='prellm')->Logger
    _get_version()->str
  prellm/server.py:
    i: asyncio,json,logging,os,time,uuid,fastapi.{FastAPI,HTTPException},typing.{Any,AsyncGenerator}
    e: SMALL_MODEL,LARGE_MODEL,DEFAULT_STRATEGY,CONFIG_PATH,MASTER_KEY,ChatMessage,PreLLMExtras,ChatCompletionRequest
    ChatMessage: 
    PreLLMExtras:   # preLLM-specific extensions in the req...
    ChatCompletionRequest: 
    ChatCompletionChoice: 
    UsageInfo: 
    _parse_model_pair(model_str:str)->tuple[str, str]
    _build_prellm_meta(result:PreLLMResponse;strategy:str)->PreLLMMeta
    health()->HealthResponse
    list_models()
    chat_completions(req:ChatCompletionRequest)
    _stream_response(query:str;small:str;large:str;strategy:str;extras:PreLLMExtras)->AsyncGenerator[str, None]
    batch_process(items:list[BatchItem])
    create_app(small_model:Any=None;large_model:Any=None;strategy:Any=None;config_path:Any=None;master_key:Any=None;dotenv_path:Any=None)->FastAPI
  prellm/query_decomposer.py:
    i: logging,prellm.llm_provider.LLMProvider,prellm.models,typing.Any
    e: QueryDecomposer
    QueryDecomposer: __init__(3),decompose(4),_classify(1),_structure(1),_split(1)  # Decomposes user queries using a small...
  prellm/prompt_registry.py:
    i: logging,yaml,functools.lru_cache,jinja2.{BaseLoader,Environment,TemplateSyntaxError,UndefinedError,_StrictUndefined},pathlib.Path,typing.Any
    e: _DEFAULT_PROMPTS_PATH,PromptNotFoundError,PromptRenderError,PromptEntry,PromptRegistry
    PromptNotFoundError:   # Raised when a prompt name is not foun...
    PromptRenderError:   # Raised when a prompt template fails t...
    PromptEntry: __init__(4),__repr__(0)  # Single prompt entry with template, ma...
    PromptRegistry: __init__(1),_ensure_loaded(0),_load(0),get(1),get_entry(1)  # Loads prompts from YAML, caches, vali...
    _StrictUndefined:   # Custom undefined that allows `default...
  prellm/validators.py:
    i: logging,yaml,pathlib.Path,pydantic.{BaseModel,Field},typing.{Any,Callable}
    e: _DEFAULT_SCHEMAS_PATH,ValidationResult,SchemaDefinition,ResponseValidator
    ValidationResult:   # Result of validating data against a s...
    SchemaDefinition:   # Parsed schema definition from YAML.
    ResponseValidator: __init__(1),_ensure_loaded(0),_load(0),list_schemas(0),validate(2)  # Validates LLM responses against YAML-...
  prellm/models.py:
    i: enum,datetime,pydantic.{BaseModel,Field},typing.Any
    e: SensitivityLevel,ProcessInfo,LocaleInfo,ShellInfo,NetworkContext,ShellContext,ContextSchema,FilterReport
    SensitivityLevel: 
    ProcessInfo: 
    LocaleInfo: 
    ShellInfo: 
    NetworkContext: 
  prellm/core.py:
    i: logging,time,datetime,yaml,nfo.decorators.{catch,log_call},pathlib.Path,prellm.analyzers.context_engine.ContextEngine,prellm.llm_provider.LLMProvider,typing.Any
    e: preprocess_and_execute,preprocess_and_execute_sync,PreLLM
    PreLLM: __init__(2),__call__(3),decompose_only(3),get_audit_log(0),_audit(3)  # preLLM v0.2/v0.3 — small LLM decompos...
    preprocess_and_execute(query:str;small_llm:str='ollama/qwen2.5:3b';large_llm:str='anthropic/claude-sonnet-4-20250514';strategy:Any='classify';user_context:Any=None;config_path:Any=None;...+1)->PreLLMResponse
    preprocess_and_execute_sync(query:str;small_llm:str='ollama/qwen2.5:3b';large_llm:str='anthropic/claude-sonnet-4-20250514';strategy:Any='classify';user_context:Any=None;config_path:Any=None;...+1)->PreLLMResponse
    _execute_v3_pipeline(query:str;small_llm:str;large_llm:str;pipeline:str;user_context:Any=None;domain_rules:Any=None;...+1)->PreLLMResponse
    _build_decomposition_result(query:str;pipeline_name:str;prep_result:Any)->DecompositionResult | None
  prellm/llm_provider.py:
    i: json,logging,nfo.decorators.log_call,prellm.models.LLMProviderConfig,typing.Any
    e: LLMProvider
    LLMProvider: __init__(1),_get_budget(0),complete(3),complete_json(2),complete_structured(4)  # Unified LLM caller with retry and fal...
  prellm/pipeline.py:
    i: logging,yaml,nfo.decorators.log_call,pathlib.Path,prellm.llm_provider.LLMProvider,prellm.prompt_registry.PromptRegistry,pydantic.{BaseModel,Field},typing.{Any,Callable}
    e: _DEFAULT_PIPELINES_PATH,PipelineStep,PipelineConfig,StepExecutionResult,PipelineResult,PromptPipeline
    PipelineStep:   # Configuration for a single pipeline s...
    PipelineConfig:   # Configuration for a complete pipeline.
    StepExecutionResult:   # Result of executing a single pipeline...
    PipelineResult:   # Result of executing a full pipeline.
    PromptPipeline: __init__(4),from_yaml(5),execute(2),_execute_llm_step(2),_execute_algo_step(2)  # Generic pipeline — executes a sequenc...
  prellm/budget.py:
    i: json,logging,time,datetime,dataclasses.{dataclass,field},pathlib.Path,threading.RLock,typing.Any
    e: BudgetExceededError,UsageEntry,BudgetTracker,get_budget_tracker,reset_budget_tracker
    BudgetExceededError: __init__(3)  # Raised when the monthly budget limit...
    UsageEntry:   # Single API call cost record.
    BudgetTracker: _ensure_loaded(0),check(1),record(4),record_from_response(2),total_cost(0)  # Tracks LLM API spend against a monthl...
    _current_month_key()->str
    get_budget_tracker(monthly_limit:Any=None;persist_path:Any=None)->BudgetTracker
    reset_budget_tracker()->None
  tests/test_executor_agent.py:
    i: pytest,yaml,pathlib.Path,prellm.agents.executor.{ExecutorAgent,ExecutorResult},prellm.llm_provider.LLMProvider,prellm.models.LLMProviderConfig,prellm.validators.ResponseValidator,unittest.mock.{AsyncMock,MagicMock}
    e: mock_large_llm,sample_schemas_yaml,validator,agent,test_executor_agent_calls_large_llm,test_executor_agent_retry_fallback,test_executor_agent_schema_validation,test_executor_agent_no_validation_by_default
    mock_large_llm()->LLMProvider
    sample_schemas_yaml(tmp_path:Path)->Path
    validator(sample_schemas_yaml:Path)->ResponseValidator
    agent(mock_large_llm:LLMProvider)->ExecutorAgent
    test_executor_agent_calls_large_llm(agent:ExecutorAgent;mock_large_llm:LLMProvider)
    test_executor_agent_retry_fallback(mock_large_llm:LLMProvider)
    test_executor_agent_schema_validation(mock_large_llm:LLMProvider;validator:ResponseValidator)
    test_executor_agent_no_validation_by_default(agent:ExecutorAgent)
  tests/test_preprocessor_agent.py:
    i: pytest,yaml,pathlib.Path,prellm.agents.preprocessor.{PreprocessResult,PreprocessorAgent},prellm.analyzers.context_engine.ContextEngine,prellm.llm_provider.LLMProvider,unittest.mock.{AsyncMock,MagicMock,patch}
    e: sample_prompts_yaml,registry,mock_llm,pipeline,agent,test_preprocessor_agent_returns_structured_input,test_preprocessor_agent_context_gathering,test_preprocessor_agent_pipeline_execution
    sample_prompts_yaml(tmp_path:Path)->Path
    registry(sample_prompts_yaml:Path)->PromptRegistry
    mock_llm()->LLMProvider
    pipeline(registry:PromptRegistry;mock_llm:LLMProvider)->PromptPipeline
    agent(mock_llm:LLMProvider;registry:PromptRegistry;pipeline:PromptPipeline)->PreprocessorAgent
    test_preprocessor_agent_returns_structured_input(agent:PreprocessorAgent)
    test_preprocessor_agent_context_gathering(mock_llm:LLMProvider;registry:PromptRegistry;pipeline:PromptPipeline)
    test_preprocessor_agent_pipeline_execution(agent:PreprocessorAgent)
  tests/test_one_function.py:
    i: pytest,prellm.core.{preprocess_and_execute,preprocess_and_execute_sync},prellm.models.{DecompositionStrategy,DomainRule,PreLLMResponse},unittest.mock.{AsyncMock,MagicMock,patch}
    e: TestPreprocessAndExecute,TestPreprocessAndExecuteSync,TestImportFromPackage
    TestPreprocessAndExecute: test_zero_config(0),test_custom_models(0),test_passthrough_strategy(0),test_strategy_as_enum(0),test_user_context_string(0)  # Core tests for the 1-function API (v0...
    TestPreprocessAndExecuteSync: test_sync_wrapper_works(0)  # Tests for the synchronous wrapper.
    TestImportFromPackage: test_import_async(0),test_import_sync(0),test_version(0),test_all_exports(0)  # Test that the 1-function API is impor...
    _mock_litellm_response(content:str)->MagicMock
  tests/test_server.py:
    i: json,pytest,fastapi.testclient.TestClient,prellm.server.{SMALL_MODEL,_parse_model_pair,app,create_app},unittest.mock.{AsyncMock,MagicMock,patch}
    e: TestParseModelPair,TestHealthEndpoint,TestChatCompletions,TestStreamingEndpoint,TestBatchEndpoint,TestCreateApp
    TestParseModelPair: test_default(0),test_arrow_unicode(0),test_arrow_ascii(0),test_single_model(0),test_no_prefix(0)
    TestHealthEndpoint: test_health(0),test_models(0)
    TestChatCompletions: test_basic_completion(0),test_with_prellm_extras(0),test_with_yaml_response_format(0),test_prellm_meta_in_response(0),test_passthrough_strategy(0)
    TestStreamingEndpoint: test_streaming_response(0),test_streaming_with_stages(0)
    TestBatchEndpoint: test_batch_processing(0),test_batch_empty_error(0)
    _mock_litellm_response(content:str)->MagicMock
    _mock_completion_side_effect()
  tests/test_preprocessor_memory.py:
    i: pytest,yaml,pathlib.Path,prellm.agents.preprocessor.{PreprocessResult,PreprocessorAgent},prellm.llm_provider.LLMProvider,prellm.models.LLMProviderConfig,prellm.pipeline.PipelineConfig,unittest.mock.{AsyncMock,MagicMock}
    e: tmp_prompts,mock_small_llm,simple_pipeline,test_preprocessor_with_user_memory,test_preprocessor_with_codebase_indexer,test_preprocessor_without_memory_or_indexer,test_preprocessor_memory_failure_graceful,test_preprocessor_empty_memory
    tmp_prompts(tmp_path:Path)->Path
    mock_small_llm()->LLMProvider
    simple_pipeline(tmp_prompts;mock_small_llm)->PromptPipeline
    test_preprocessor_with_user_memory(tmp_prompts;mock_small_llm;simple_pipeline)
    test_preprocessor_with_codebase_indexer(tmp_path;tmp_prompts;mock_small_llm;simple_pipeline)
    test_preprocessor_without_memory_or_indexer(tmp_prompts;mock_small_llm;simple_pipeline)
    test_preprocessor_memory_failure_graceful(tmp_prompts;mock_small_llm;simple_pipeline)
    test_preprocessor_empty_memory(tmp_prompts;mock_small_llm;simple_pipeline)
  tests/test_decomposer.py:
    i: json,pytest,prellm.llm_provider.LLMProvider,prellm.models.{ClassificationResult,DecompositionPrompts,DecompositionStrategy},prellm.query_decomposer.QueryDecomposer,unittest.mock.{AsyncMock,MagicMock,patch}
    e: TestLLMProvider,TestQueryDecomposer
    TestLLMProvider: test_complete_returns_content(0),test_complete_with_system_prompt(0),test_complete_json_parses(0),test_complete_json_handles_markdown_fence(0),test_complete_json_returns_empty_on_bad_json(0)
    TestQueryDecomposer: _make_decomposer(1),test_passthrough_strategy(0),test_classify_strategy(0),test_structure_strategy(0),test_split_strategy(0)
  tests/test_model_catalog.py:
    i: prellm.model_catalog.{MODEL_PAIRS,OPENROUTER_MODELS,list_model_pairs,list_openrouter_models}
    e: test_model_catalog_all_providers,test_model_catalog_filter_by_provider,test_model_catalog_filter_by_provider_case_insensitive,test_model_catalog_search,test_model_catalog_search_no_match,test_model_catalog_combined_filter,test_openrouter_models_all,test_openrouter_models_search
    test_model_catalog_all_providers()
    test_model_catalog_filter_by_provider()
    test_model_catalog_filter_by_provider_case_insensitive()
    test_model_catalog_search()
    test_model_catalog_search_no_match()
    test_model_catalog_combined_filter()
    test_openrouter_models_all()
    test_openrouter_models_search()
  tests/test_env_config.py:
    i: os,tempfile,pytest,prellm.env_config.{EnvConfig,check_providers,get_env_config,load_dotenv_if_available},unittest.mock.{AsyncMock,MagicMock,patch}
    e: TestEnvConfigDefaults,TestLoadDotenv,TestGetEnvConfig,TestCheckProviders,TestAuthMiddleware
    TestEnvConfigDefaults: test_default_config(0),test_provider_key_map_has_all_providers(0)
    TestLoadDotenv: test_load_env_file(1),test_load_env_does_not_override_existing(1),test_load_env_strips_quotes(1),test_load_nonexistent_file(0)
    TestGetEnvConfig: test_reads_from_env(0),test_reads_from_dotenv_file(1),test_litellm_compat_env_vars(0),test_small_model_fallback_to_old_env(0),test_empty_master_key_is_none(0)
    TestCheckProviders: test_check_with_keys(0),test_check_without_keys(0)
    TestAuthMiddleware: test_no_auth_when_no_master_key(0),test_auth_required_when_master_key_set(0),test_auth_with_bearer_token(0),test_auth_with_x_api_key(0),test_wrong_key_rejected(0)  # Test Bearer token auth in the API ser...
    _mock_resp(content:str)->MagicMock
  tests/test_budget.py:
    i: json,pytest,pathlib.Path,prellm.budget.{BudgetExceededError,BudgetTracker,UsageEntry,get_budget_tracker,reset_budget_tracker},unittest.mock.MagicMock
    e: TestBudgetTracker,TestBudgetExceededError,TestSingleton
    TestBudgetTracker: test_no_limit(0),test_record_cost(1),test_multiple_records(1),test_budget_exceeded(1),test_persist_and_reload(1)
    TestBudgetExceededError: test_message(0),test_no_model(0)
    TestSingleton: setup_method(0),teardown_method(0),test_get_creates_singleton(0),test_update_limit(0)
  tests/test_trace.py:
    i: json,time,pytest,pathlib.Path,prellm.trace.{TraceRecorder,TraceStep,get_current_trace,set_current_trace}
    e: TestTraceStep,TestTraceRecorder,TestContextVar,TestMarkdownEdgeCases
    TestTraceStep: test_defaults(0)
    TestTraceRecorder: test_start_stop(0),test_step_recording(0),test_set_result(0),test_to_markdown(0),test_to_stdout(0)
    TestContextVar: test_set_and_get(0),test_start_sets_context(0)
    TestMarkdownEdgeCases: test_long_content_truncated(0),test_pydantic_model_in_outputs(0),test_result_content_preview(0),test_error_step_in_markdown(0),test_skipped_step_in_markdown(0)
  tests/test_validators.py:
    i: pytest,yaml,pathlib.Path,prellm.validators.{ResponseValidator,ValidationResult}
    e: sample_schemas_yaml,validator,test_validator_loads_schemas,test_validator_passes_valid_classification,test_validator_rejects_invalid_confidence,test_validator_rejects_negative_confidence,test_validator_rejects_missing_required,test_validator_enum_constraint
    sample_schemas_yaml(tmp_path:Path)->Path
    validator(sample_schemas_yaml:Path)->ResponseValidator
    test_validator_loads_schemas(validator:ResponseValidator)
    test_validator_passes_valid_classification(validator:ResponseValidator)
    test_validator_rejects_invalid_confidence(validator:ResponseValidator)
    test_validator_rejects_negative_confidence(validator:ResponseValidator)
    test_validator_rejects_missing_required(validator:ResponseValidator)
    test_validator_enum_constraint(validator:ResponseValidator)
  tests/test_context.py:
    i: pytest,prellm.analyzers.context_engine.ContextEngine
    e: TestContextEngine
    TestContextEngine: test_env_context(1),test_enrich_prompt(1),test_extra_overrides_env(1),test_missing_env_graceful(0),test_system_context(0)
  tests/test_codebase_indexer.py:
    i: pytest,pathlib.Path,prellm.context.codebase_indexer.{CodeSymbol,CodebaseIndex,CodebaseIndexer,FileIndex}
    e: TestCodebaseIndexerRegex,TestCodeSymbolDataclass,TestCodebaseIndexerImport
    TestCodebaseIndexerRegex: test_index_python_file(1),test_index_empty_directory(1),test_index_excludes_dirs(1),test_index_respects_language_filter(1),test_search_finds_symbols(1)  # Test regex-based fallback indexing (n...
    TestCodeSymbolDataclass: test_code_symbol_defaults(0),test_file_index_defaults(0)
    TestCodebaseIndexerImport: test_importable_from_context(0)
  tests/test_user_memory.py:
    i: pytest,pathlib.Path,prellm.context.user_memory.UserMemory
    e: memory,test_user_memory_add_interaction,test_user_memory_get_recent,test_user_memory_preferences,test_user_memory_preference_update,test_user_memory_sqlite_backend,test_user_memory_empty_history,test_user_memory_clear
    memory(tmp_path:Path)->UserMemory
    test_user_memory_add_interaction(memory:UserMemory)
    test_user_memory_get_recent(memory:UserMemory)
    test_user_memory_preferences(memory:UserMemory)
    test_user_memory_preference_update(memory:UserMemory)
    test_user_memory_sqlite_backend(tmp_path:Path)
    test_user_memory_empty_history(memory:UserMemory)
    test_user_memory_clear(memory:UserMemory)
  tests/test_structured_output.py:
    i: pytest,prellm.llm_provider.LLMProvider,prellm.models.LLMProviderConfig,pydantic.{BaseModel,Field},unittest.mock.{AsyncMock,MagicMock,patch}
    e: ClassificationResult,DeployParams,TestCompleteStructuredImportError,TestCompleteStructuredWithMock,TestCompleteStructuredMethod
    ClassificationResult: 
    DeployParams: 
    TestCompleteStructuredImportError: test_raises_import_error_without_instructor(0)  # Test graceful handling when instructo...
    TestCompleteStructuredWithMock: test_returns_validated_model(0),test_structured_with_system_prompt(0),test_structured_fallback_on_failure(0)  # Test structured output with mocked in...
    TestCompleteStructuredMethod: test_method_exists(0),test_all_models_fail_raises_runtime_error(0)  # Test the actual method signature and...
  tests/test_v2_architecture.py:
    i: json,pytest,prellm.models.{ClassificationResult,DecompositionPrompts,DecompositionResult,DecompositionStrategy,DomainRule},unittest.mock.{AsyncMock,MagicMock,patch}
    e: TestLLMProvider,TestQueryDecomposer,TestDomainRule,TestPreLLMConfig,TestPreLLMCore,TestPreLLMConfigLoading,TestProcessChainV2,TestDecompositionResult
    TestLLMProvider: test_init_with_config(0),test_complete_success(0),test_complete_with_system_prompt(0),test_complete_fallback(0),test_complete_all_fail(0)
    TestQueryDecomposer: _make_decomposer(1),test_passthrough_strategy(0),test_classify_strategy(0),test_structure_strategy(0),test_split_strategy(0)
    TestDomainRule: test_defaults(0),test_full_rule(0)
    TestPreLLMConfig: test_defaults(0),test_custom_config(0)
    TestPreLLMCore: test_init_default(0),test_init_with_config(0),test_full_pipeline(0),test_decompose_only(0),test_passthrough_strategy(0)
  tests/test_models.py:
    i: os,tempfile,pytest,yaml,prellm.models
    e: TestModelDefaults,TestDomainRules,TestDecompositionStrategy,TestConfigLoading,TestProcessModels
    TestModelDefaults: test_llm_provider_config_defaults(0),test_prellm_config_defaults(0),test_response_defaults(0),test_decomposition_result_defaults(0),test_classification_result(0)
    TestDomainRules: test_rule_with_all_fields(0),test_rule_keyword_matching(0),test_rule_no_match(0)
    TestDecompositionStrategy: test_all_strategies_exist(0),test_strategy_from_string(0)
    TestConfigLoading: _write_yaml(1),test_load_minimal_config(0),test_load_with_models(0),test_load_with_domain_rules(0),test_load_with_prompts(0)
    TestProcessModels: test_process_step_with_strategy(0),test_process_config(0)
  tests/test_v3_architecture.py:
    i: pytest,yaml,pathlib.Path,prellm.agents.executor.{ExecutorAgent,ExecutorResult},prellm.agents.preprocessor.{PreprocessResult,PreprocessorAgent},unittest.mock.{AsyncMock,MagicMock,patch}
    e: tmp_configs,mock_small_llm,mock_large_llm,test_agents_integration_full_pipeline,test_agents_integration_structure_pipeline,test_agents_integration_dual_agent_full,test_preprocessor_independent_of_executor,test_executor_independent_of_preprocessor
    tmp_configs(tmp_path:Path)->dict[str, Path]
    mock_small_llm()->LLMProvider
    mock_large_llm()->LLMProvider
    test_agents_integration_full_pipeline(tmp_configs;mock_small_llm;mock_large_llm)
    test_agents_integration_structure_pipeline(tmp_configs;mock_small_llm;mock_large_llm)
    test_agents_integration_dual_agent_full(tmp_configs;mock_small_llm;mock_large_llm)
    test_preprocessor_independent_of_executor(tmp_configs;mock_small_llm)
    test_executor_independent_of_preprocessor(mock_large_llm)
  tests/test_integration.py:
    i: os,tempfile,pytest,yaml,pathlib.Path,prellm.chains.process_chain.ProcessChain,prellm.core.PreLLM,unittest.mock.{AsyncMock,MagicMock,patch}
    e: TestYAMLConfigLoading,TestProcessChainDryRun,TestDeployConfig
    TestYAMLConfigLoading: _write_yaml(1),test_load_minimal_config(0),test_load_full_config(0),test_load_empty_config(0),test_configs_prellm_config_yaml(0)
    TestProcessChainDryRun: _make_chain(1),test_simple_chain_dry_run(0),test_chain_with_manual_approval_pauses(0),test_chain_with_approval_callback(0),test_chain_dependency_failure(0)
    TestDeployConfig: test_deploy_yaml_loads(0)
  tests/test_shipped_configs.py:
    i: pytest,yaml,pathlib.Path,prellm.pipeline.PromptPipeline,prellm.prompt_registry.PromptRegistry,prellm.validators.ResponseValidator
    e: CONFIGS_DIR,PROMPTS_PATH,PIPELINES_PATH,SCHEMAS_PATH,test_shipped_prompts_yaml_loads,test_shipped_pipelines_yaml_loads,test_shipped_schemas_yaml_loads,test_all_pipeline_prompts_exist_in_registry
    test_shipped_prompts_yaml_loads()
    test_shipped_pipelines_yaml_loads()
    test_shipped_schemas_yaml_loads()
    test_all_pipeline_prompts_exist_in_registry()
    test_prompt_registry_loads_shipped_prompts()
    test_prompt_registry_renders_shipped_prompts()
    test_response_validator_loads_shipped_schemas()
    test_response_validator_validates_classification()
  tests/test_prompt_registry.py:
    i: tempfile,pytest,yaml,pathlib.Path,prellm.prompt_registry.{PromptNotFoundError,PromptRegistry,PromptRenderError}
    e: sample_prompts_yaml,registry,test_prompt_registry_loads_yaml,test_prompt_registry_get_with_variables,test_prompt_registry_get_with_default,test_prompt_registry_get_conditional,test_prompt_registry_missing_prompt_raises,test_prompt_registry_validate_all_required
    sample_prompts_yaml(tmp_path:Path)->Path
    registry(sample_prompts_yaml:Path)->PromptRegistry
    test_prompt_registry_loads_yaml(registry:PromptRegistry)
    test_prompt_registry_get_with_variables(registry:PromptRegistry)
    test_prompt_registry_get_with_default(registry:PromptRegistry)
    test_prompt_registry_get_conditional(registry:PromptRegistry)
    test_prompt_registry_missing_prompt_raises(registry:PromptRegistry)
    test_prompt_registry_validate_all_required(registry:PromptRegistry)
  tests/test_pipeline.py:
    i: pytest,yaml,pathlib.Path,prellm.llm_provider.LLMProvider,prellm.models.LLMProviderConfig,prellm.pipeline.{PipelineConfig,PipelineResult,PipelineStep},unittest.mock.{AsyncMock,MagicMock}
    e: sample_prompts_yaml,sample_pipelines_yaml,registry,mock_llm,test_pipeline_sequential_execution,test_pipeline_conditional_step_skip,test_pipeline_conditional_step_executes,test_pipeline_algo_step_execution
    sample_prompts_yaml(tmp_path:Path)->Path
    sample_pipelines_yaml(tmp_path:Path)->Path
    registry(sample_prompts_yaml:Path)->PromptRegistry
    mock_llm()->LLMProvider
    _make_pipeline(registry:PromptRegistry;mock_llm:LLMProvider;steps:list[dict];name:str='test')->PromptPipeline
    test_pipeline_sequential_execution(registry:PromptRegistry;mock_llm:LLMProvider)
    test_pipeline_conditional_step_skip(registry:PromptRegistry;mock_llm:LLMProvider)
    test_pipeline_conditional_step_executes(registry:PromptRegistry;mock_llm:LLMProvider)
  scripts/config_wizard.py:
    i: os,re,secrets,socket,subprocess,sys,datetime,pathlib.Path,urllib.{error,request}
    e: GREEN,YELLOW,RED,BLUE,DIM,NC,ok,warn
    ok(msg:str)->None
    warn(msg:str)->None
    fail(msg:str)->None
    info(msg:str)->None
    ask(question:str;default:str='';required:bool=False)->str
    ask_yn(question:str;default:bool=False)->bool
    ask_choice(question:str;options:list;default:int=0)->str
    check_ollama(base_url:str)->list[str] | None
  prellm/chains/process_chain.py:
    i: logging,time,datetime,yaml,pathlib.Path,prellm.analyzers.context_engine.ContextEngine,typing.{Any,Awaitable,Callable,Union}
    e: ProcessChain
    ProcessChain: __init__(5),execute(3),_execute_step(4),_check_dependencies(1),_handle_approval(4)  # Execute multi-step DevOps workflows w...
  prellm/context/folder_compressor.py:
    i: logging,re,datetime,pathlib.Path,prellm.context.codebase_indexer.{CodebaseIndex,CodebaseIndexer},prellm.models.CompressedFolder,typing.Any
    e: FolderCompressor
    FolderCompressor: __init__(1),compress(3),to_toon(1),to_dependency_graph(1),to_summary(1)  # Compresses a project folder into a li...
    _relative_path(path:str;root:str)->str
    _path_to_module(rel_path:str)->str
    _extract_module_from_import(import_line:str;project_name:str)->str | None
    _extract_module_docstring(path:str)->str
  prellm/context/shell_collector.py:
    i: logging,os,platform,socket,time,prellm.models.{LocaleInfo,NetworkContext,ProcessInfo,ShellContext},typing.Any
    e: _SENSITIVE_KEY_PATTERNS,_SAFE_KEYS,ShellContextCollector
    ShellContextCollector: __init__(1),collect_env_vars(1),collect_process_info(0),collect_locale_info(0),collect_shell_info(0)  # Collects full shell environment conte...
  prellm/context/user_memory.py:
    i: json,logging,sqlite3,time,pathlib.Path,typing.Any
    e: _DEFAULT_DB_PATH,_DEFAULT_CHROMA_PATH,_CHROMA_COLLECTION,UserMemory
    UserMemory: __init__(2),_init_sqlite(0),_init_chromadb(0),add_interaction(3),get_recent_context(2)  # Stores user query history and learned...
  prellm/context/sensitive_filter.py:
    i: logging,re,yaml,pathlib.Path,prellm.models.{FilterReport,SensitivityLevel},typing.Any
    e: _DEFAULT_SENSITIVE_KEY_PATTERNS,_DEFAULT_SENSITIVE_VALUE_PATTERNS,_DEFAULT_MASKED_PATTERNS,_DEFAULT_SAFE_KEYS,_DEFAULT_RULES_PATH,SensitiveDataFilter
    SensitiveDataFilter: __init__(3),_load_rules(1),classify_key(1),classify_value(1),filter_dict(2)  # Classifies and filters sensitive data...
  prellm/context/codebase_indexer.py:
    i: logging,dataclasses.{dataclass,field},pathlib.Path,typing.Any
    e: CodeSymbol,FileIndex,CodebaseIndex,_LANG_MAP,CodebaseIndexer
    CodeSymbol:   # A code symbol extracted from source.
    FileIndex:   # Index of a single source file.
    CodebaseIndex:   # Full codebase index.
    CodebaseIndexer: __init__(1),_check_tree_sitter(0),index_directory(3),_index_file(2),_extract_with_tree_sitter(3)  # Index a codebase using tree-sitter fo...
  prellm/context/schema_generator.py:
    i: logging,platform,shutil,prellm.models.{CompressedFolder,ContextSchema,DomainRule,ShellContext},typing.Any
    e: _TOOL_COMMANDS,_PROJECT_TYPE_MARKERS,ContextSchemaGenerator
    ContextSchemaGenerator: generate(5),to_prompt_section(1),estimate_relevance(2),_detect_execution_env(1),_detect_tools(0)  # Generates a structured context schema...
  prellm/analyzers/context_engine.py:
    i: os,subprocess,typing.Any
    e: ContextEngine
    ContextEngine: __init__(1),gather(0),enrich_prompt(2),_gather_env(1),_gather_git(1)  # Collects context from environment, gi...
  prellm/agents/preprocessor.py:
    i: logging,nfo.decorators.log_call,prellm.analyzers.context_engine.ContextEngine,prellm.llm_provider.LLMProvider,prellm.pipeline.{PipelineResult,PromptPipeline},prellm.prompt_registry.PromptRegistry,pydantic.{BaseModel,Field},typing.Any
    e: PreprocessResult,PreprocessorAgent
    PreprocessResult:   # Output of the PreprocessorAgent — str...
    PreprocessorAgent: __init__(7),preprocess(3),_extract_executor_input(2),_extract_confidence(1)  # Agent preprocessing — small LLM (≤24B...
    _get_user_memory_class()
    _get_codebase_indexer_class()
  prellm/agents/executor.py:
    i: logging,nfo.decorators.log_call,prellm.llm_provider.LLMProvider,prellm.validators.{ResponseValidator,ValidationResult},pydantic.{BaseModel,Field},typing.Any
    e: ExecutorResult,ExecutorAgent
    ExecutorResult:   # Output of the ExecutorAgent.
    ExecutorAgent: __init__(4),execute(2),_validate_response(1)  # Agent execution — large LLM (>24B) ex...